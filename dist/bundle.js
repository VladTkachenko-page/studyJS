(()=>{"use strict";var e,t,n,o,c,r,a,i,l,u,s,d,m;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function c(e){return e<10?"0"+e:e}!function e(){var r,a,i,l=(r=(new Date("31 december 2020").getTime()-(new Date).getTime())/1e3,a=Math.floor(r%60),i=Math.floor(r/60%60),{timeRemaining:r,hours:Math.floor(r/60/60)%24,minutes:i,seconds:a}),u=setInterval(e,1e3);t.textContent=c(l.hours),n.textContent=c(l.minutes),o.textContent=c(l.seconds),l.timeRemaining>0||l.timeRemaining<0&&(t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(u))}()})(),function(){var e=document.querySelector("menu"),t=e.querySelectorAll("ul>li"),n=document.querySelector("main>a"),o=function(){e.classList.toggle("active-menu")};document.addEventListener("click",(function(t){var n=t.target,c=t.target,r=t.target;(n.classList.contains("close-btn")||(n=n.closest("menu>ul>li>a")))&&o(),(c=c.closest(".menu"))?o():(r=r.closest("menu"))||e.classList.remove("active-menu")}));var c=function(e){var t=e.getAttribute("href").substring(1),n=document.getElementById(t).getBoundingClientRect().top;window.scrollBy({top:n,behavior:"smooth"})};t.forEach((function(e){var t=e.querySelector("a");t.addEventListener("click",(function(e){e.preventDefault(),c(t)}))})),n.addEventListener("click",(function(e){e.preventDefault(),c(n)}))}(),function(){var e,t=document.querySelector(".popup"),n=document.querySelector(".popup-content"),o=document.querySelectorAll(".popup-btn"),c=0,r=window.innerWidth,a=function t(){e=requestAnimationFrame(t),c+=20,r=window.innerWidth,c<(r-n.clientWidth/2)/2&&r>768?n.style.left=c+"px":cancelAnimationFrame(e)};o.forEach((function(n){n.addEventListener("click",(function(){t.style.display="block",e=requestAnimationFrame(a)}))}));var i=function(){r>768&&(cancelAnimationFrame(e),c=0,n.style.left=null)};t.addEventListener("click",(function(e){var n=e.target;n.classList.contains("popup-close")?(t.style.display="none",i()):(n=n.closest(".popup-content"))||(t.style.display="none",i())}))}(),s=document.querySelector(".service-header"),d=s.querySelectorAll(".service-header-tab"),m=document.querySelectorAll(".service-tab"),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&d.forEach((function(e,n){e===t&&function(e){for(var t=0;t<m.length;t++)e===t?(d[t].classList.add("active"),m[t].classList.remove("d-none")):(d[t].classList.remove("active"),m[t].classList.add("d-none"))}(n)}))})),t=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),n=document.querySelector(".portfolio-dots"),o=document.querySelector(".portfolio-content"),c=0,r=document.querySelectorAll(".dot"),a=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},l=function(){r=document.querySelectorAll(".dot"),a(t,c,"portfolio-item-active"),a(r,c,"dot-active"),++c>=t.length&&(c=0),i(t,c,"portfolio-item-active"),i(r,c,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)},o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;a(t,c,"portfolio-item-active"),a(r,c,"dot-active"),n.matches("#arrow-right")?c++:n.matches("#arrow-left")?c--:n.matches(".dot")&&r.forEach((function(e,t){e===n&&(c=t)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),i(t,c,"portfolio-item-active"),i(r,c,"dot-active")})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),function(){for(var e=0;e<t.length;e++){var o=document.createElement("li");o.className="dot",n.append(o)}(r=document.querySelectorAll(".dot"))[0].classList.add("dot-active")}(),u(1500),document.querySelector(".command").querySelectorAll("img").forEach((function(e){var t=e.src;e.addEventListener("mouseenter",(function(e){event.target.src=event.target.dataset.img})),e.addEventListener("mouseleave",(function(e){event.target.src=t}))})),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),a=document.getElementById("total"),i=t.querySelectorAll("input"),l=function(e){i[e].addEventListener("input",(function(){i[e].value=i[e].value.replace(/\D/,"")}))},u=0;u<i.length;u++)l(u);var s=function(){var t=0,i=1,l=1,u=n.options[n.selectedIndex].value,s=+o.value;c.value>1&&(i+=(c.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),u&&s&&(t=e*u*s*i*l);var d=100;!function e(){d<t?(d+=t/200,a.innerHTML=Math.floor(d),setTimeout(e,5)):a.textContent=Math.floor(t)}()};t.addEventListener("change",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-count")||t.matches(".calc-day"))&&s()}))}(100),function(){var e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("form3"),o=document.createElement("div"),c=e.querySelectorAll("input"),r=t.querySelectorAll("input"),a=n.querySelectorAll("input"),i=document.querySelectorAll("input");o.style.color="#fff";for(var l=function(e){"user_name"===i[e].name||"user_message"===i[e].name?i[e].addEventListener("input",(function(){i[e].value=i[e].value.replace(/[^а-яА-Я,;. ]/,"")})):"user_phone"===i[e].name&&i[e].addEventListener("input",(function(){i[e].value=i[e].value.replace(/[^0-9+]/,"")}))},u=0;u<i.length;u++)l(u);var s=function(e){o.classList.remove("sk-plane","sk-center"),o.textContent="Спасибо! Мы скоро с вами свяжемся",e.forEach((function(e){e.value=""}))},d=function(e){o.textContent="Что-то пошло не так...",console.error(e)};e.addEventListener("submit",(function(t){t.preventDefault(),e.appendChild(o),o.textContent="",o.classList.add("sk-plane","sk-center");var n=new FormData(e),r={};n.forEach((function(e,t){r[e]=t})),m(r).then((function(e){if(200!==e.status)throw new Error("status network not 200");s(c)})).catch(d)})),t.addEventListener("submit",(function(e){e.preventDefault(),t.appendChild(o),o.textContent="",o.classList.add("sk-plane","sk-center");var n=new FormData(t),c={};n.forEach((function(e,t){c[e]=t})),m(c).then((function(e){if(200!==e.status)throw new Error("status network not 200");s(r)})).catch(d)})),n.addEventListener("submit",(function(e){e.preventDefault(),n.appendChild(o),o.textContent="",o.classList.add("sk-plane","sk-center");var t=new FormData(n),c={};t.forEach((function(e,t){c[e]=t})),m(c).then((function(e){if(200!==e.status)throw new Error("status network not 200");s(a)})).catch(d)}));var m=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();